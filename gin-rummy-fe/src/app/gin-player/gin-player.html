<div class="gin-player-hand" cdkDropListGroup>
    @for (meld of player.melds(); track meld.id) {
    <div class="meld m-1" [class.highlighted]="meld.highlighted && dragging" [class.declared]="!meld.isDeadwood() && !meld.isEmpty()"
        cdkDropList [cdkDropListEnterPredicate]="allowDrop(meld)" [cdkDropListData]="meld.cards()"
        (cdkDropListDropped)="drop($event)">
        @if(meld.cards().length === 0 && dragging){
        <div class="card empty">X</div>
        }
        @for(card of meld.cards(); track card.id) {
        <div class="card {{card.color}}" [class.highlighted]="card.highlighted && !dragging" cdkDrag
            [cdkDragData]="card" (cdkDragStarted)="onDragStarted($event)" (cdkDragDropped)="onDragEnded($event)"
            (dblclick)="discard(card)">{{card.id}}</div>
        }
    </div>
    }
</div>